
<div class="container">
    <div class="row">
        <div class="col-12">
            <h2 class="mt-3">Edit Slide - {{pageTitle}}</h2>
            <hr>
            <form action="/admin/slideManager/edit-slide" method="POST" enctype="multipart/form-data" id="edit-slide">
                <div>
                    <input type="hidden" name="_csrf" id="_csrf" value="{{_csrf}}">
                </div>

                <input type="hidden" name="_id" id="_id" value="{{slide._id}}">

                <div>
                    <label for="title" class="form-title">Title</label>
                    <input type="text" name="title" id="title" class="form-control" value="{{slide.title}}"/>
                </div>
                <div>
                    <label for="hyperlink" class="form-title">HyperLink</label>
                    <input type="text" name="hyperlink" id="hyperlink" class="form-control" value="{{slide.hyperlink}}"/>
                </div>
                <div class="mt-3">
                    <label for="imgUrl" class="form-title">Image</label>
                    <input type="file" name="imgUrl" id="imgUrl">
                    <p>
                        <img src="{{getImageAbsolutePath slide.imgUrl}}" alt="" class="mt-3 mb-3 border-warning" style="max-width: 18rem;">
                    </p>
                </div>
                <div class="mt-2">
                    <input type="checkbox" name="shown" id="shown" {{#if slide.shown}}checked="checked"{{/if}}>
                    <label for="shown" class="form-title">Show</label>
                </div>
                <div class="mt-2">
                    <input type="submit" value="Apply changes" class="btn btn-warning" id="submitBtn"/>
                </div>
            </form>
        </div>
    </div>
</div>

<script>
    const form = document.querySelector('form#edit-slide');
    console.log(form);

    form.addEventListener('submit', e => {
        console.log(e);
        console.log(e.target.elements.submitBtn);
        e.target.elements.submitBtn.disabled = true;
        
    });
</script>